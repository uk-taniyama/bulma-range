!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.bulmaRange=e():t.bulmaRange=e()}(self,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}t.d(e,{default:()=>d});var y=function(t){return"string"==typeof t||!!t&&"object"===h(t)&&"[object String]"===Object.prototype.toString.call(t)},d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(d,t);var e,n,r,o,u,h=(o=d,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(o);if(u){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function d(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,d),(e=h.call(this)).element="string"==typeof t?document.querySelector(t):t,!e.element)throw new Error("An invalid selector or non-DOM node has been provided.");return e._clickEvents=["click"],e.options=i({},n),e.onRangeInput=e.onRangeInput.bind(f(e)),e.init(),e}return e=d,r=[{key:"attach",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'input[type="range"].range',n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Array,o=y(e)?document.querySelectorAll(e):Array.isArray(e)?e:[e];return o.forEach((function(e){if(void 0===e[t.constructor.name]){var o=new d(e,n);e[t.constructor.name]=o,r.push(o)}else r.push(e[t.constructor.name])})),r}}],(n=[{key:"init",value:function(){if(this._id="bulmaRange"+(new Date).getTime()+Math.floor(Math.random()*Math.floor(9999)),this.output=this._findOutputForRange(),this._bindEvents(),this.output&&this.element.classList.contains("has-output-tooltip")){var t=this._getRangeOutputPosition();this.output.style.left=t.position}this.emit("bulmaRange:ready",this.element.value)}},{key:"_findOutputForRange",value:function(){var t=this,e=null,n=document.getElementsByTagName("output")||[];return Array.from(n).forEach((function(n){if(n.htmlFor==t.element.getAttribute("id"))return e=n,!0})),e}},{key:"_getRangeOutputPosition",value:function(){var t,e=window.getComputedStyle(this.element,null),n=parseInt(e.getPropertyValue("width"),10);t=this.element.getAttribute("min")?this.element.getAttribute("min"):0;var r=(this.element.value-t)/(this.element.getAttribute("max")-t);return{position:(r<0?0:r>1?n:n*r)+"px"}}},{key:"_bindEvents",value:function(){this.output&&this.element.addEventListener("input",this.onRangeInput,!1)}},{key:"onRangeInput",value:function(t){if(t.preventDefault(),this.element.classList.contains("has-output-tooltip")){var e=this._getRangeOutputPosition();this.output.style.left=e.position}var n=this.output.hasAttribute("data-prefix")?this.output.getAttribute("data-prefix"):"",r=this.output.hasAttribute("data-postfix")?this.output.getAttribute("data-postfix"):"";this.output.value=n+this.element.value+r,this.emit("bulmaRange:ready",this.element.value)}}])&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(this,t),this._listeners=new Map(e),this._middlewares=new Map}var e,o;return e=t,o=[{key:"listenerCount",value:function(t){return this._listeners.has(t)?this._listeners.get(t).length:0}},{key:"removeListeners",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null!==e?Array.isArray(e)?name.forEach((function(e){return t.removeListeners(e,n)})):(this._listeners.delete(e),n&&this.removeMiddleware(e)):this._listeners=new Map}},{key:"middleware",value:function(t,e){var n=this;Array.isArray(t)?name.forEach((function(t){return n.middleware(t,e)})):(Array.isArray(this._middlewares.get(t))||this._middlewares.set(t,[]),this._middlewares.get(t).push(e))}},{key:"removeMiddleware",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e?Array.isArray(e)?name.forEach((function(e){return t.removeMiddleware(e)})):this._middlewares.delete(e):this._middlewares=new Map}},{key:"on",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t))t.forEach((function(t){return n.on(t,e)}));else{var o=(t=t.toString()).split(/,|, | /);o.length>1?o.forEach((function(t){return n.on(t,e)})):(Array.isArray(this._listeners.get(t))||this._listeners.set(t,[]),this._listeners.get(t).push({once:r,callback:e}))}}},{key:"once",value:function(t,e){this.on(t,e,!0)}},{key:"emit",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=t.toString();var o=this._listeners.get(t),i=null,u=0,a=r;if(Array.isArray(o))for(o.forEach((function(l,s){r||(i=n._middlewares.get(t),Array.isArray(i)?(i.forEach((function(n){n(e,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==t&&(e=t),u++}),t)})),u>=i.length&&(a=!0)):a=!0),a&&(l.once&&(o[s]=null),l.callback(e))}));-1!==o.indexOf(null);)o.splice(o.indexOf(null),1)}}],o&&r(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}());return e.default})()));